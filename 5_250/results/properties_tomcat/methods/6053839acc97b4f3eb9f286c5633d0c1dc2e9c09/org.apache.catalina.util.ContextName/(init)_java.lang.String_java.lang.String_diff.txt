/**                                                                                                    /**                                                                                                 
* Construct an instance from a path and version.                                                       * Construct an instance from a path and version.                                                    
*                                                                                                      *                                                                                                   
* @param path      Context path to use                                                                 * @param path      Context path to use                                                              
* @param version   Context version to use                                                              * @param version   Context version to use                                                           
*/                                                                                                     */                                                                                                  
public ContextName(String path, String version) {                                                      public ContextName(String path, String version) {                                                   
// Path should never be null, '/' or '/ROOT'                                                           // Path should never be null, '/' or '/ROOT'                                                        
if (path == null || "/".equals(path) || "/ROOT".equals(path)) {                                        if (path == null || "/".equals(path) || "/ROOT".equals(path)) {                                     
this.path = "";                                                                                        this.path = "";                                                                                     
} else {                                                                                               } else {                                                                                            
this.path = path;                                                                                      this.path = path;                                                                                   
}                                                                                                      }                                                                                                   
// Version should never be null                                                                        // Version should never be null                                                                     
if (version == null) {                                                                                 if (version == null) {                                                                              
this.version = "";                                                                                     this.version = "";                                                                                  
} else {                                                                                               } else {                                                                                            
this.version = version;                                                                                this.version = version;                                                                             
}                                                                                                      }                                                                                                   
// Name is path + version                                                                              // Name is path + version                                                                           
if ("".equals(this.version)) {                                                                       | if (this.version.isEmpty()) {                                                                       
name = this.path;                                                                                      name = this.path;                                                                                   
} else {                                                                                               } else {                                                                                            
name = this.path + VERSION_MARKER + this.version;                                                      name = this.path + VERSION_MARKER + this.version;                                                   
}                                                                                                      }                                                                                                   
// Base name is converted path + version                                                               // Base name is converted path + version                                                            
StringBuilder tmp = new StringBuilder();                                                               StringBuilder tmp = new StringBuilder();                                                            
if ("".equals(this.path)) {                                                                          | if (this.path.isEmpty()) {                                                                          
tmp.append(ROOT_NAME);                                                                                 tmp.append(ROOT_NAME);                                                                              
} else {                                                                                               } else {                                                                                            
tmp.append(this.path.substring(1).replaceAll("/", FWD_SLASH_REPLACEMENT));                           | tmp.append(this.path.substring(1).replace('/', FWD_SLASH_REPLACEMENT));                             
}                                                                                                      }                                                                                                   
if (this.version.length() &gt; 0) {                                                                  | if (!this.version.isEmpty()) {                                                                      
tmp.append(VERSION_MARKER);                                                                            tmp.append(VERSION_MARKER);                                                                         
tmp.append(this.version);                                                                              tmp.append(this.version);                                                                           
}                                                                                                      }                                                                                                   
this.baseName = tmp.toString();                                                                        this.baseName = tmp.toString();                                                                     
}                                                                                                      }                                                                                                   
