/**                                                                                                    /**                                                                                                 
* Set the instance handle of the object against which we will execute                                  * Set the instance handle of the object against which we will execute                               
* all methods in this ModelMBean management interface.                                                 * all methods in this ModelMBean management interface.                                              
*                                                                                                      *                                                                                                   
* The caller can provide the mbean instance or the object name to                                      * The caller can provide the mbean instance or the object name to                                   
* the resource, if needed.                                                                             * the resource, if needed.                                                                          
*                                                                                                      *                                                                                                   
* @param resource The resource object to be managed                                                    * @param resource The resource object to be managed                                                 
* @param type The type of reference for the managed resource                                           * @param type The type of reference for the managed resource                                        
*  ("ObjectReference", "Handle", "IOR", "EJBHandle", or                                                *  ("ObjectReference", "Handle", "IOR", "EJBHandle", or                                             
*  "RMIReference")                                                                                     *  "RMIReference")                                                                                  
*                                                                                                      *                                                                                                   
* @exception InstanceNotFoundException if the managed resource object                                  * @exception InstanceNotFoundException if the managed resource object                               
*  cannot be found                                                                                     *  cannot be found                                                                                  
* @exception MBeanException if the initializer of the object throws                                    * @exception MBeanException if the initializer of the object throws                                 
*  an exception                                                                                        *  an exception                                                                                     
* @exception RuntimeOperationsException if the managed resource or the                                 * @exception RuntimeOperationsException if the managed resource or the                              
*  resource type is &lt;code&gt;null&lt;/code&gt; or invalid                                           *  resource type is &lt;code&gt;null&lt;/code&gt; or invalid                                        
*/                                                                                                     */                                                                                                  
public void setManagedResource(Object resource, String type) throws InstanceNotFoundException, MBean   public void setManagedResource(Object resource, String type) throws InstanceNotFoundException, MBean
if (resource == null)                                                                                | if (resource == null) {                                                                             
throw new RuntimeOperationsException(new IllegalArgumentException(sm.getString("baseModelMBean.nullR   throw new RuntimeOperationsException(new IllegalArgumentException(sm.getString("baseModelMBean.nullR
                                                                                                     | }                                                                                                   
// if (!"objectreference".equalsIgnoreCase(type))                                                      // if (!"objectreference".equalsIgnoreCase(type))                                                   
// throw new InvalidTargetObjectTypeException(type);                                                   // throw new InvalidTargetObjectTypeException(type);                                                
this.resource = resource;                                                                              this.resource = resource;                                                                           
this.resourceType = resource.getClass().getName();                                                     this.resourceType = resource.getClass().getName();                                                  
// // Make the resource aware of the model mbean.                                                      // // Make the resource aware of the model mbean.                                                   
// try {                                                                                               // try {                                                                                            
// Method m=resource.getClass().getMethod("setModelMBean",                                             // Method m=resource.getClass().getMethod("setModelMBean",                                          
// new Class[] {ModelMBean.class});                                                                    // new Class[] {ModelMBean.class});                                                                 
// if( m!= null ) {                                                                                    // if( m!= null ) {                                                                                 
// m.invoke(resource, new Object[] {this});                                                            // m.invoke(resource, new Object[] {this});                                                         
// }                                                                                                   // }                                                                                                
// } catch( NoSuchMethodException t ) {                                                                // } catch( NoSuchMethodException t ) {                                                             
// // ignore                                                                                           // // ignore                                                                                        
// } catch( Throwable t ) {                                                                            // } catch( Throwable t ) {                                                                         
// log.error( "Can't set model mbean ", t );                                                           // log.error( "Can't set model mbean ", t );                                                        
// }                                                                                                   // }                                                                                                
}                                                                                                      }                                                                                                   
