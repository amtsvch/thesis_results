/**                                                                                                    /**                                                                                                 
* Validates the option flags that each interceptor is using and reports                                * Validates the option flags that each interceptor is using and reports                             
* an error if two interceptor share the same flag.                                                     * an error if two interceptor share the same flag.                                                  
* @throws ChannelException Error with option flag                                                      * @throws ChannelException Error with option flag                                                   
*/                                                                                                     */                                                                                                  
protected void checkOptionFlags() throws ChannelException {                                            protected void checkOptionFlags() throws ChannelException {                                         
StringBuilder conflicts = new StringBuilder();                                                         StringBuilder conflicts = new StringBuilder();                                                      
ChannelInterceptor first = interceptors;                                                               ChannelInterceptor first = interceptors;                                                            
while (first != null) {                                                                                while (first != null) {                                                                             
int flag = first.getOptionFlag();                                                                      int flag = first.getOptionFlag();                                                                   
if (flag != 0) {                                                                                       if (flag != 0) {                                                                                    
ChannelInterceptor next = first.getNext();                                                             ChannelInterceptor next = first.getNext();                                                          
while (next != null) {                                                                                 while (next != null) {                                                                              
int nflag = next.getOptionFlag();                                                                      int nflag = next.getOptionFlag();                                                                   
if (nflag != 0 && (((flag & nflag) == flag) || ((flag & nflag) == nflag))) {                           if (nflag != 0 && (((flag & nflag) == flag) || ((flag & nflag) == nflag))) {                        
conflicts.append('[');                                                                                 conflicts.append('[');                                                                              
conflicts.append(first.getClass().getName());                                                          conflicts.append(first.getClass().getName());                                                       
conflicts.append(':');                                                                                 conflicts.append(':');                                                                              
conflicts.append(flag);                                                                                conflicts.append(flag);                                                                             
conflicts.append(" == ");                                                                              conflicts.append(" == ");                                                                           
conflicts.append(next.getClass().getName());                                                           conflicts.append(next.getClass().getName());                                                        
conflicts.append(':');                                                                                 conflicts.append(':');                                                                              
conflicts.append(nflag);                                                                               conflicts.append(nflag);                                                                            
conflicts.append("] ");                                                                                conflicts.append("] ");                                                                             
}                                                                                                      }                                                                                                   
// end if                                                                                              // end if                                                                                           
next = next.getNext();                                                                                 next = next.getNext();                                                                              
}                                                                                                      }                                                                                                   
// while                                                                                               // while                                                                                            
}                                                                                                      }                                                                                                   
// end if                                                                                              // end if                                                                                           
first = first.getNext();                                                                               first = first.getNext();                                                                            
}                                                                                                      }                                                                                                   
// while                                                                                               // while                                                                                            
if (conflicts.length() &gt; 0)                                                                       | if (conflicts.length() &gt; 0) {                                                                    
throw new ChannelException(sm.getString("groupChannel.optionFlag.conflict", conflicts.toString()));    throw new ChannelException(sm.getString("groupChannel.optionFlag.conflict", conflicts.toString())); 
}                                                                                                      }                                                                                                   
                                                                                                     | }                                                                                                   
