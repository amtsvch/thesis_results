/**                                                                                                    /**                                                                                                 
* Start cluster receiver.                                                                              * Start cluster receiver.                                                                           
*                                                                                                      *                                                                                                   
* @throws IOException If the receiver fails to start                                                   * @throws IOException If the receiver fails to start                                                
*                                                                                                      *                                                                                                   
* @see org.apache.catalina.tribes.ChannelReceiver#start()                                              * @see org.apache.catalina.tribes.ChannelReceiver#start()                                           
*/                                                                                                     */                                                                                                  
@Override                                                                                              @Override                                                                                           
public void start() throws IOException {                                                               public void start() throws IOException {                                                            
super.start();                                                                                         super.start();                                                                                      
try {                                                                                                  try {                                                                                               
setPool(new RxTaskPool(getMaxThreads(), getMinThreads(), this));                                       setPool(new RxTaskPool(getMaxThreads(), getMinThreads(), this));                                    
} catch (Exception x) {                                                                                } catch (Exception x) {                                                                             
log.fatal(sm.getString("nioReceiver.threadpool.fail"), x);                                             log.fatal(sm.getString("nioReceiver.threadpool.fail"), x);                                          
if (x instanceof IOException)                                                                        | if (x instanceof IOException) {                                                                     
throw (IOException) x;                                                                                 throw (IOException) x;                                                                              
else                                                                                                 | } else {                                                                                            
throw new IOException(x.getMessage());                                                                 throw new IOException(x.getMessage());                                                              
}                                                                                                      }                                                                                                   
                                                                                                     | }                                                                                                   
try {                                                                                                  try {                                                                                               
getBind();                                                                                             getBind();                                                                                          
bind();                                                                                                bind();                                                                                             
String channelName = "";                                                                               String channelName = "";                                                                            
if (getChannel().getName() != null)                                                                  | if (getChannel().getName() != null) {                                                               
channelName = "[" + getChannel().getName() + "]";                                                      channelName = "[" + getChannel().getName() + "]";                                                   
                                                                                                     | }                                                                                                   
Thread t = new Thread(this, "NioReceiver" + channelName);                                              Thread t = new Thread(this, "NioReceiver" + channelName);                                           
t.setDaemon(true);                                                                                     t.setDaemon(true);                                                                                  
t.start();                                                                                             t.start();                                                                                          
} catch (Exception x) {                                                                                } catch (Exception x) {                                                                             
log.fatal(sm.getString("nioReceiver.start.fail"), x);                                                  log.fatal(sm.getString("nioReceiver.start.fail"), x);                                               
if (x instanceof IOException)                                                                        | if (x instanceof IOException) {                                                                     
throw (IOException) x;                                                                                 throw (IOException) x;                                                                              
else                                                                                                 | } else {                                                                                            
throw new IOException(x.getMessage());                                                                 throw new IOException(x.getMessage());                                                              
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
                                                                                                     | }                                                                                                   
