@Test                                                                                                  @Test                                                                                               
public void testOptionConflict() throws Exception {                                                    public void testOptionConflict() throws Exception {                                                 
boolean error = false;                                                                                 boolean error = false;                                                                              
channel.setOptionCheck(true);                                                                          channel.setOptionCheck(true);                                                                       
ChannelInterceptor i = new TestInterceptor();                                                          ChannelInterceptor i = new TestInterceptor();                                                       
i.setOptionFlag(128);                                                                                  i.setOptionFlag(128);                                                                               
channel.addInterceptor(i);                                                                             channel.addInterceptor(i);                                                                          
i = new TestInterceptor();                                                                             i = new TestInterceptor();                                                                          
i.setOptionFlag(128);                                                                                  i.setOptionFlag(128);                                                                               
channel.addInterceptor(i);                                                                             channel.addInterceptor(i);                                                                          
try {                                                                                                  try {                                                                                               
channel.start(Channel.DEFAULT);                                                                        channel.start(Channel.DEFAULT);                                                                     
} catch (ChannelException x) {                                                                         } catch (ChannelException x) {                                                                      
if (x.getMessage().contains("option flag conflict"))                                                 | if (x.getMessage().contains("option flag conflict")) {                                              
error = true;                                                                                          error = true;                                                                                       
}                                                                                                      }                                                                                                   
                                                                                                     | }                                                                                                   
Assert.assertTrue(error);                                                                              Assert.assertTrue(error);                                                                           
}                                                                                                      }                                                                                                   
