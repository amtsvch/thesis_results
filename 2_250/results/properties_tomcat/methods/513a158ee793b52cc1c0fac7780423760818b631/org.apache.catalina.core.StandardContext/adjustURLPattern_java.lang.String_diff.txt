// ------------------------------------------------------ Protected Methods                            // ------------------------------------------------------ Protected Methods                         
/**                                                                                                    /**                                                                                                 
* Adjust the URL pattern to begin with a leading slash, if appropriate                                 * Adjust the URL pattern to begin with a leading slash, if appropriate                              
* (i.e. we are running a servlet 2.2 application).  Otherwise, return                                  * (i.e. we are running a servlet 2.2 application).  Otherwise, return                               
* the specified URL pattern unchanged.                                                                 * the specified URL pattern unchanged.                                                              
*                                                                                                      *                                                                                                   
* @param urlPattern The URL pattern to be adjusted (if needed)                                         * @param urlPattern The URL pattern to be adjusted (if needed)                                      
*  and returned                                                                                        *  and returned                                                                                     
* @return the URL pattern with a leading slash if needed                                               * @return the URL pattern with a leading slash if needed                                            
*/                                                                                                     */                                                                                                  
protected String adjustURLPattern(String urlPattern) {                                                 protected String adjustURLPattern(String urlPattern) {                                              
if (urlPattern == null)                                                                              | if (urlPattern == null) {                                                                           
return urlPattern;                                                                                     return urlPattern;                                                                                  
if (urlPattern.startsWith("/") || urlPattern.startsWith("*."))                                       | }                                                                                                   
                                                                                                     | if (urlPattern.startsWith("/") || urlPattern.startsWith("*.")) {                                    
return urlPattern;                                                                                     return urlPattern;                                                                                  
if (!isServlet22())                                                                                  | }                                                                                                   
                                                                                                     | if (!isServlet22()) {                                                                               
return urlPattern;                                                                                     return urlPattern;                                                                                  
if (log.isDebugEnabled())                                                                            | }                                                                                                   
                                                                                                     | if (log.isDebugEnabled()) {                                                                         
log.debug(sm.getString("standardContext.urlPattern.patternWarning", urlPattern));                      log.debug(sm.getString("standardContext.urlPattern.patternWarning", urlPattern));                   
                                                                                                     | }                                                                                                   
return "/" + urlPattern;                                                                               return "/" + urlPattern;                                                                            
}                                                                                                      }                                                                                                   
